!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("js-data"),require("angular"),function(){try{return require("axios")}catch(e){}}()):"function"==typeof define&&define.amd?define(["js-data","angular"],function(r,a){return t(r,a,e.axios)}):"object"==typeof exports?exports.jsDataAngularModuleName=t(require("js-data"),require("angular"),function(){try{return require("axios")}catch(e){}}()):e.jsDataAngularModuleName=t(e.JSData,e.angular,e.axios)}(this,function(e,t,r){return function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={exports:{},id:a,loaded:!1};return e[a].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(){return $rootScope.$watch(function(){return store.observe.Platform.performMicrotaskCheckpoint()})}function i(e){var t=void 0;try{t=r(5)(e.project)}catch(e){}t||(t=window[e.class]),t&&(e.loaded=!0,o.module("js-data").provider(e.class,function(){var e=this;e.defaults={},e.$get=[function(){return new t(e.defaults)}]}))}var s=r(1),u=r(2),o=r(4),f=s.DSUtils,l=s.DSErrors,d=f.get,c=f.isString,p=f.isNumber,h=f.isObject,m=f.set,v=f.resolveId,y=[{project:"js-data-localstorage",name:"localstorage",class:"DSLocalStorageAdapter"},{project:"js-data-localforage",name:"localforage",class:"DSLocalForageAdapter"},{project:"js-data-firebase",name:"firebase",class:"DSFirebaseAdapter"},{project:"js-data-sql",name:"sql",class:"DSSqlAdapter"}],g=["compute","digest","eject","inject"],b=null;!function(e){var t=null;e.document.addEventListener("scroll",function(e){clearTimeout(t),e.target.className.indexOf("ui-grid")>-1&&(b(),t=setTimeout(function(){b=n()},500))})}(window);var x=function e(){a(this,e);var t={};this.defaults=t,this.$get=["$http","DS",function(e,r){t.http=t.http||e;var a=new u(t);return r.registerAdapter("http",a,{default:!0}),a}]},w=function e(){function t(){function e(e){var t=l.defer();try{e(o.bind(t,t.resolve),o.bind(t,t.reject))}catch(e){t.reject(e)}return t.promise}for(var t=arguments.length,a=Array(t),i=0;t>i;i++)a[i]=arguments[i];var u=a[a.length-2],l=a[a.length-1],d=new s.DS(r.defaults),c={};if(e.all=l.all,e.when=l.when,e.reject=l.reject,f.Promise=e,a.length)for(var p=0;p<a.length;p++)for(var h=0;h<y.length;h++)if(y[h].loaded&&!y[h].registered){y[h].registered=!0,d.registerAdapter(y[h].name,a[p]);break}for(var m=function(){var e=g[v];c[e]=d[e],d[e]=function(){for(var t=arguments.length,r=Array(t),a=0;t>a;a++)r[a]=arguments[a];return u.$$phase?c[e].apply(d,r):u.$apply(function(){return c[e].apply(d,r)})}},v=0;v<g.length;v++)m();return"function"==typeof Object.observe&&"function"==typeof Array.observe||(b=n()),d}a(this,e);for(var r=this,i=[],u=0;u<y.length;u++)y[u].loaded&&i.push(y[u].class);r.defaults={},s.DS.prototype.bindAll=function(e,t,r,a,n){var i=this;if(t=t||{},!i.definitions[e])throw new l.NER(e);if(!h(t))throw new l.IA('"params" must be an object!');if(!h(r))throw new l.IA('"scope" must be an object!');if(!c(a))throw new l.IA('"expr" must be a string!');var s=i.definitions[e].idAttribute;try{return r.$watch(function(){return i.lastModified(e)},function(){var u=i.filter(e,t);u&&u.length&&o.forEach(u,function(t){i.compute(e,d(t,s))}),m(r,a,u),n&&n(null,u)})}catch(e){if(!n)throw e;n(e)}},s.DS.prototype.bindOne=function(e,t,r,a,n){var i=this;if(t=v(i.definitions[e],t),!i.definitions[e])throw new l.NER(e);if(!c(t)&&!p(t))throw new l.IA('"id" must be a string or a number!');if(!h(r))throw new l.IA('"scope" must be an object!');if(!c(a))throw new l.IA('"expr" must be a string!');try{return r.$watch(function(){return i.lastModified(e,t)},function(){var s=i.get(e,t);s&&i.compute(e,t),m(r,a,s),n&&n(null,s)})}catch(e){if(!n)throw e;n(e)}},i.push("$rootScope"),i.push("$q"),i.push(t),r.$get=i};o.module("js-data",["ng"]).value("DSUtils",f).value("DSErrors",l).value("DSVersion",s.version).provider("DS",w).provider("DSHttpAdapter",x).run(["DS","DSHttpAdapter",function(e,t){e.registerAdapter("http",t,{default:!0})}]);for(var P=0;P<y.length;P++)i(y[P]);e.exports="js-data";try{e.exports.name="js-data"}catch(e){}},function(t,r){t.exports=e},function(e,t,r){"use strict";function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return void 0===e}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=r(1),f=null;try{f=r(3)}catch(e){}var l=o.DSUtils,d=l.deepMixIn,c=l.removeCircular,p=l.copy,h=l.makePath,m=l.isString,v=l.isNumber,y=function(){function e(){n(this,e)}return u(e,[{key:"queryTransform",value:function(e,t){return t}},{key:"deserialize",value:function(e,t){return t&&"data"in t?t.data:t}},{key:"serialize",value:function(e,t){return t}},{key:"log",value:function(){}},{key:"error",value:function(){}}]),e}(),g=y.prototype;g.basePath="",g.forceTrailingSlash="",g.httpConfig={},g.verbsUseBasePath=!1;var b=function(){function e(t){n(this,e),t||(t={}),this.defaults=new y,console&&(this.defaults.log=function(e,t){return console["function"==typeof console.info?"info":"log"](e,t)}),console&&(this.defaults.error=function(e,t){return console["function"==typeof console.error?"error":"log"](e,t)}),d(this.defaults,t),this.http=t.http||f}return u(e,[{key:"getEndpoint",value:function(e,t,r){r||(r={}),r.params=i(r.params)?{}:r.params;var n=r.hasOwnProperty("endpoint")?r.endpoint:e.endpoint,s=e.parents||(e.parent?a({},e.parent,{key:e.parentKey,field:e.parentField}):{});return l.forOwn(s,function(a,i){var s=this,u=void 0,o=a.key,f=a.field,d=e.getResource(i),c=r.params[o];c!==!1&&o&&d?(delete r.params[o],l._sn(t)?u=e.get(t):l._o(t)&&(u=t),u&&(c=c||u[o]||(u[f]?u[f][d.idAttribute]:null)),c&&!function(){delete r.endpoint;var e={};l.forOwn(r,function(t,r){e[r]=t}),n=l.makePath(s.getEndpoint(d,c,l._(d,e)),c,n)}()):c===!1&&delete r.params[o]},this),n}},{key:"getPath",value:function(e,t,r,a){var n=this;if(a||(a={}),m(a.urlPath))return h.apply(l,[a.basePath||n.defaults.basePath||t.basePath,a.urlPath]);var i=[a.basePath||n.defaults.basePath||t.basePath,this.getEndpoint(t,m(r)||v(r)||"create"===e?r:null,a)];return"find"!==e&&"update"!==e&&"destroy"!==e||i.push(r),h.apply(l,i)}},{key:"HTTP",value:function(e){function t(t,n){if(t=t||{},t instanceof Error)return r.defaults.error("FAILED: "+(t.message||"Unknown Error"),t),l.Promise.reject(t);if("object"===("undefined"==typeof t?"undefined":s(t))){var i=a.toUTCString()+" - "+e.method+" "+e.url+" - "+t.status+" "+((new Date).getTime()-a.getTime())+"ms";return t.status>=200&&t.status<300&&!n?(r.defaults.log&&r.defaults.log(i,t),t):(r.defaults.error&&r.defaults.error("FAILED: "+i,t),l.Promise.reject(t))}return r.defaults.error("FAILED",t),l.Promise.reject(t)}var r=this,a=new Date,n=e.data,u=e.cache,o=e.timeout;e=p(e,null,null,null,["data","cache","timeout"]),e=d(e,r.defaults.httpConfig),e.data=n,e.cache=u,e.timeout=o,"verbsUseBasePath"in e||(e.verbsUseBasePath=r.defaults.verbsUseBasePath),!e.urlOverride&&e.verbsUseBasePath&&(e.url=h(e.basePath||r.defaults.basePath,e.url)),r.defaults.forceTrailingSlash&&"/"!==e.url[e.url.length-1]&&!e.urlOverride&&(e.url+="/"),"object"===s(e.data)&&(e.data=c(e.data)),e.method=e.method.toUpperCase();var f=i(e.suffix)?r.defaults.suffix:e.suffix;if(f&&e.url.substr(e.url.length-f.length)!==f&&!e.urlOverride&&(e.url+=f),!this.http)throw new Error("You have not configured this adapter with an http library!");return this.http(e).then(t,function(e){return t(e,!0)})}},{key:"GET",value:function(e,t){return t=t||{},t.method=t.method||"get",t.urlOverride=!!t.url,t.url=t.url||e,this.HTTP(t)}},{key:"POST",value:function(e,t,r){return r=r||{},r.method=r.method||"post",r.urlOverride=!!r.url,r.url=r.url||e,r.data=r.data||t,this.HTTP(r)}},{key:"PUT",value:function(e,t,r){return r=r||{},r.method=r.method||"put",r.urlOverride=!!r.url,r.url=r.url||e,r.data=r.data||t,this.HTTP(r)}},{key:"DEL",value:function(e,t){return t=t||{},t.method=t.method||"delete",t.urlOverride=!!t.url,t.url=t.url||e,this.HTTP(t)}},{key:"find",value:function(e,t,r){var a=this;return r||(r={}),r.suffix=i(r.suffix)?e.suffix:r.suffix,r.params=i(r.params)?{}:p(r.params),r.params=a.defaults.queryTransform(e,r.params),a.GET(a.getPath("find",e,t,r),r).then(function(t){var n=(r.deserialize?r.deserialize:a.defaults.deserialize)(e,t);return n?n:l.Promise.reject(new Error("Not Found!"))})}},{key:"findAll",value:function(e,t,r){var a=this;return r||(r={}),r.suffix=i(r.suffix)?e.suffix:r.suffix,r.params=i(r.params)?{}:p(r.params),t&&(t=a.defaults.queryTransform(e,t),d(r.params,t)),a.GET(a.getPath("findAll",e,t,r),r).then(function(t){return(r.deserialize?r.deserialize:a.defaults.deserialize)(e,t)})}},{key:"create",value:function(e,t,r){var a=this;return r||(r={}),r.suffix=i(r.suffix)?e.suffix:r.suffix,r.params=i(r.params)?{}:p(r.params),r.params=a.defaults.queryTransform(e,r.params),a.POST(a.getPath("create",e,t,r),r.serialize?r.serialize(e,t):a.defaults.serialize(e,t),r).then(function(t){return(r.deserialize?r.deserialize:a.defaults.deserialize)(e,t)})}},{key:"update",value:function(e,t,r,a){var n=this;return a||(a={}),a.suffix=i(a.suffix)?e.suffix:a.suffix,a.params=i(a.params)?{}:p(a.params),a.params=n.defaults.queryTransform(e,a.params),n.PUT(n.getPath("update",e,t,a),a.serialize?a.serialize(e,r):n.defaults.serialize(e,r),a).then(function(t){return(a.deserialize?a.deserialize:n.defaults.deserialize)(e,t)})}},{key:"updateAll",value:function(e,t,r,a){var n=this;return a||(a={}),a.suffix=i(a.suffix)?e.suffix:a.suffix,a.params=i(a.params)?{}:p(a.params),r&&(r=n.defaults.queryTransform(e,r),d(a.params,r)),this.PUT(n.getPath("updateAll",e,t,a),a.serialize?a.serialize(e,t):n.defaults.serialize(e,t),a).then(function(t){return(a.deserialize?a.deserialize:n.defaults.deserialize)(e,t)})}},{key:"destroy",value:function(e,t,r){var a=this;return r||(r={}),r.suffix=i(r.suffix)?e.suffix:r.suffix,r.params=i(r.params)?{}:p(r.params),r.params=a.defaults.queryTransform(e,r.params),a.DEL(a.getPath("destroy",e,t,r),r).then(function(t){return(r.deserialize?r.deserialize:a.defaults.deserialize)(e,t)})}},{key:"destroyAll",value:function(e,t,r){var a=this;return r||(r={}),r.suffix=i(r.suffix)?e.suffix:r.suffix,r.params=i(r.params)?{}:p(r.params),t&&(t=a.defaults.queryTransform(e,t),d(r.params,t)),this.DEL(a.getPath("destroyAll",e,t,r),r).then(function(t){return(r.deserialize?r.deserialize:a.defaults.deserialize)(e,t)})}}]),e}();b.version={full:"<%= pkg.version %>",major:parseInt("<%= major %>",10),minor:parseInt("<%= minor %>",10),patch:parseInt("<%= patch %>",10),alpha:"<%= alpha %>",beta:"<%= beta %>"},e.exports=b},function(e,t){if("undefined"==typeof r){var a=new Error('Cannot find module "axios"');throw a.code="MODULE_NOT_FOUND",a}e.exports=r},function(e,r){e.exports=t},function(e,t,r){function a(e){return r(n(e))}function n(e){return i[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var i={};a.keys=function(){return Object.keys(i)},a.resolve=n,e.exports=a,a.id=5}])});
//# sourceMappingURL=js-data-angular.min.map